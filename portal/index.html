<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Eventos</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Barra de Navega√ß√£o -->
    <nav class="navbar">
        <div class="container">
            <h1>Sistema de Eventos</h1>
            <div class="nav-links" id="navLinks">
                <a href="#" onclick="showSection('eventos')" id="linkEventos">Eventos</a>
                <a href="#" onclick="showSection('certificados')" id="linkCertificados">Validar Certificado</a>
                <a href="#" onclick="mostrarPaginaInicial()" id="linkLogin" style="display:none;">Login</a>
                <a href="#" onclick="showSection('minhasInscricoes')" id="linkInscricoes" style="display:none;">Minhas Inscri√ß√µes</a>
                <a href="#" onclick="showSection('checkin')" id="linkCheckin" style="display:none;">Check-in</a>
                <a href="#" onclick="showSection('perfil')" id="linkPerfil" style="display:none;">Meu Perfil</a>
                <span id="userInfo" class="user-info"></span>
                <button onclick="logout()" id="logoutBtn" style="display:none;">Sair</button>
            </div>
        </div>
    </nav>

    <!-- Status de Conex√£o -->
    <div id="connectionStatus" class="connection-status offline">
        <span id="connectionText">Modo Offline - Suas a√ß√µes ser√£o sincronizadas quando a conex√£o for restaurada</span>
        <button onclick="sincronizarDados()" id="syncBtn" style="display:none;">Sincronizar Agora</button>
    </div>

    <!-- Se√ß√£o de Login/Cadastro -->
    <section id="authSection" class="section">
        <div class="auth-container" id="authContainer">
            <div class="auth-tabs">
                <button class="tab active" onclick="switchTab('login')">Login</button>
                <button class="tab" onclick="switchTab('cadastro')">Cadastro</button>
            </div>

            <!-- Formul√°rio de Login -->
            <div id="loginForm" class="auth-form active">
                <h2>Login</h2>
                <form onsubmit="login(event)">
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Senha:</label>
                        <div style="position: relative;">
                            <input type="password" id="loginSenha" required style="padding-right: 40px;">
                            <button type="button" onclick="toggleSenha('loginSenha', 'btnToggleLoginSenha')" 
                                    id="btnToggleLoginSenha" 
                                    style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; font-size: 18px; color: #666;">
                                üëÅÔ∏è
                            </button>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Entrar</button>
                </form>
            </div>

            <!-- Formul√°rio de Cadastro -->
            <div id="cadastroForm" class="auth-form">
                <h2>Cadastro</h2>
                <form onsubmit="cadastro(event)">
                    <div class="form-group">
                        <label>Nome:</label>
                        <input type="text" id="cadastroNome" required>
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="cadastroEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Senha:</label>
                        <div style="position: relative;">
                            <input type="password" id="cadastroSenha" required minlength="6" style="padding-right: 40px;">
                            <button type="button" onclick="toggleSenha('cadastroSenha', 'btnToggleCadastroSenha')" 
                                    id="btnToggleCadastroSenha" 
                                    style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; font-size: 18px; color: #666;">
                                üëÅÔ∏è
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>CPF:</label>
                        <input type="text" id="cadastroCpf" placeholder="000.000.000-00">
                    </div>
                    <div class="form-group">
                        <label>Telefone:</label>
                        <input type="tel" id="cadastroTelefone" placeholder="(00) 00000-0000">
                    </div>
                    <button type="submit" class="btn btn-primary">Cadastrar</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Se√ß√£o de Eventos -->
    <section id="eventosSection" class="section">
        <div class="container">
            <h2>Eventos Dispon√≠veis</h2>
            <div class="filters">
                <select id="filtroCategoria" onchange="filtrarEventos()">
                    <option value="">Todas as categorias</option>
                </select>
                <select id="filtroStatus" onchange="filtrarEventos()">
                    <option value="">Todos os status</option>
                    <option value="ativo">Ativos</option>
                    <option value="finalizado">Finalizados</option>
                </select>
            </div>
            <div id="eventosList" class="eventos-grid"></div>
        </div>
    </section>

    <!-- Se√ß√£o de Detalhes do Evento -->
    <section id="eventoDetalhesSection" class="section">
        <div class="container">
            <button onclick="showSection('eventos')" class="btn btn-secondary">‚Üê Voltar</button>
            <div id="eventoDetalhes"></div>
        </div>
    </section>

    <!-- Se√ß√£o de Minhas Inscri√ß√µes -->
    <section id="minhasInscricoesSection" class="section">
        <div class="container">
            <h2>Minhas Inscri√ß√µes</h2>
            <div id="inscricoesList"></div>
        </div>
    </section>

    <!-- Se√ß√£o de Certificados -->
    <section id="certificadosSection" class="section">
        <div class="container">
            <h2>Meus Certificados</h2>
            <div id="certificadosList"></div>
        </div>
    </section>

    <!-- Se√ß√£o de Check-in (para atendentes) -->
    <section id="checkinSection" class="section">
        <div class="container">
            <h2>Check-in de Participantes</h2>
            
            <div class="form-group">
                <label>Selecione o Evento:</label>
                <select id="eventoCheckin" onchange="selecionarEvento()" class="form-control">
                    <option value="">Selecione um evento</option>
                </select>
            </div>

            <div id="areaCheckin" style="display:none;">
                <div class="form-group">
                    <label>CPF do Participante:</label>
                    <input type="text" id="cpfInput" class="form-control" 
                           placeholder="000.000.000-00" maxlength="14">
                    <button onclick="buscarParticipante()" class="btn btn-primary" style="margin-top: 10px;">
                        Buscar Participante
                    </button>
                </div>

                <div id="resultadoBusca" style="margin-top: 20px;"></div>
            </div>
        </div>
    </section>

    <!-- Se√ß√£o de Perfil -->
    <section id="perfilSection" class="section">
        <div class="container">
            <div id="perfilUsuario"></div>
        </div>
    </section>

    <!-- Modal de Valida√ß√£o de Certificado -->
    <div id="modalValidacao" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modalValidacao')">&times;</span>
            <h2>Validar Certificado</h2>
            <div class="form-group">
                <label>C√≥digo de Valida√ß√£o:</label>
                <input type="text" id="codigoValidacao" placeholder="CERT-XXXXXXXX">
            </div>
            <button onclick="validarCertificado()" class="btn btn-primary">Validar</button>
            <div id="resultadoValidacao"></div>
        </div>
    </div>

    <!-- SQL.js para SQLite no navegador -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.10.3/sql-wasm.js"></script>
    <script>
        // Configurar caminho do arquivo WASM para SQL.js
        if (typeof window !== 'undefined') {
            window.SQL_WASM_PATH = 'https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.10.3/sql-wasm.wasm';
        }
    </script>
    <script src="js/database.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/eventos.js"></script>
    <script src="js/inscricoes.js"></script>
    <script src="js/certificados.js"></script>
    <script src="js/checkin.js"></script>
    <script src="js/perfil.js"></script>
    <script src="js/sync.js"></script>
    <script src="js/app.js"></script>
</body>
</html>





